<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"
        integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js"
        integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ"
        crossorigin="anonymous"></script>

    <!-- Local Files -->
    <link rel="stylesheet" href="/static/Main.css">
    <title>DevHire - Jobs</title>

</head>

<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary lead">
        <div class="container-fluid">
            <a class="navbar-brand" onclick="window.location.href='/'">
                <img src="/static/Logo.svg" alt="Logo" width="auto" height="55" style="margin: 0px 26px;"
                    class="d-inline-block align-text-top">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse Navbar-section01" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item ">
                        <a class="nav-link" aria-current="page" onclick="window.location.href='/'">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/jobs_stud">Jobs</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" onclick="window.location.href='/our_team'">Our Team</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="TeamHeading container-fluid display-1 text-center">JOBS</div>
    <hr>
    <div class="container TeamDiv">
        <!-- Add more cards here -->
        <div class="card" style="width: 12.7rem;" data-card-id="card01" data-bs-toggle="modal" data-bs-target="#jobModal">
            <p class="card-description">
                **Description:**
                Seeking a Software Engineer to develop high-quality software solutions in collaboration with cross-functional teams. Responsibilities include designing, coding, testing, and debugging software applications. 
                
                **Qualifications:**
                - Bachelor's degree in Computer Science or related field
                - Proven experience in software development
                - Proficiency in programming languages like Java, Python, or JavaScript
                - Familiarity with web development frameworks and/or mobile app development is a plus
                - Strong problem-solving and communication skills
                
                **Benefits:**
                - Competitive salary
                - Health, dental, and vision insurance
                - Flexible work schedule
                - Opportunities for professional development
                
                **How to Apply:**
                Submit resume and cover letter to [Contact Information].</p>
            <div class="card-body">
                <h5 class="card-title">Systems</h5>
                <p class="card-text">Software Engineer</p>
            </div>
        </div>
        <div class="card" style="width: 12.7rem;" data-card-id="card02" data-bs-toggle="modal" data-bs-target="#jobModal">
            <p class="card-description">
                Description:
                We are looking for a talented Data Scientist to join our team. The ideal candidate will have a strong background in statistical analysis and machine learning techniques. Responsibilities include analyzing large datasets, building predictive models, and interpreting results to drive business decisions.
                
                Qualifications:
                Master's or Ph.D. in Computer Science, Statistics, or related field
                Proficiency in programming languages such as Python or R
                Experience with data visualization tools like Tableau or Matplotlib
                Knowledge of database technologies (SQL, NoSQL)
                Excellent problem-solving and analytical skills
                Benefits:
                
                Competitive compensation package
                Comprehensive health benefits
                Flexible remote work options
                Opportunities for career advancement

                How to Apply:
                Interested candidates should send their resume and a brief statement of interest to [Contact Information].</p>
            <div class="card-body">
                <h5 class="card-title">Devsinc</h5>
                <p class="card-text">Data Scientist</p>
            </div>
        </div>
        <div class="card" style="width: 12.7rem;" data-card-id="card03" data-bs-toggle="modal" data-bs-target="#jobModal">
            <p class="card-description">
                Description:
                We're seeking a creative UX/UI Designer to join our design team. The ideal candidate will have a passion for user-centric design and a strong portfolio showcasing their work. Responsibilities include wireframing, prototyping, and collaborating with product managers and developers to create intuitive user experiences.

                Qualifications:

                Bachelor's degree in Design, Human-Computer Interaction, or related field
                Proficiency in design tools like Adobe XD, Sketch, or Figma
                Understanding of web design principles and best practices
                Experience conducting user research and usability testing
                Excellent communication and collaboration skills
                Benefits:

                Competitive salary and performance bonuses
                Health and wellness programs
                Opportunities for skill development and training
                Fun and dynamic work environment
            </p>
            <div class="card-body">
                <h5 class="card-title">Gaditek</h5>
                <p class="card-text">UX/UI Designer</p>
            </div>
        </div>
        <div class="card" style="width: 12.7rem;" data-card-id="card04" data-bs-toggle="modal" data-bs-target="#jobModal">
            <p class="card-description">
                Description:
                We are seeking a skilled DevOps Engineer to join our infrastructure team. The ideal candidate will have experience automating and streamlining operations and processes. Responsibilities include designing and implementing CI/CD pipelines, managing cloud infrastructure, and ensuring system scalability and reliability.

                Qualifications:
                Bachelor's degree in Computer Science, Engineering, or related field
                Proficiency in scripting languages such as Bash, Python, or Ruby
                Experience with cloud platforms like AWS, Azure, or Google Cloud
                Familiarity with containerization technologies (Docker, Kubernetes)
                Strong problem-solving and troubleshooting skills
                Benefits:

                Competitive compensation and stock options
                Comprehensive benefits package
                Remote work flexibility
                Opportunities for professional growth and learning
            </p>
            <div class="card-body">
                <h5 class="card-title">Gaditek</h5>
                <p class="card-text">DevOps Engineer</p>
            </div>
        </div>
        <div class="card" style="width: 12.7rem;" data-card-id="card05" data-bs-toggle="modal" data-bs-target="#jobModal">
            <p class="card-description">
                Description:
                We are looking for a Cybersecurity Analyst to join our security team. The ideal candidate will have experience in identifying and mitigating security threats and vulnerabilities. Responsibilities include monitoring systems for suspicious activity, conducting security audits, and implementing security measures to protect data and assets.

                Qualifications:
                Bachelor's degree in Information Security, Computer Science, or related field
                Relevant certifications (e.g., CISSP, CEH, CompTIA Security+)
                Experience with security tools such as SIEM, IDS/IPS, and vulnerability scanners
                Knowledge of networking protocols and security principles
                Strong attention to detail and analytical skills
                Benefits:

                Competitive salary and bonus structure
                Comprehensive health and retirement benefits
                Continuous training and development opportunities
                Dynamic and collaborative work environment
            </p>
            <div class="card-body">
                <h5 class="card-title">Securiti</h5>
                <p class="card-text">Cybersecurity Analyst</p>
            </div>
        </div>
        <div class="card" style="width: 12.7rem;" data-card-id="card06" data-bs-toggle="modal" data-bs-target="#jobModal">
            <p class="card-description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quam, beatae aliquam.
                Inventore, similique, earum, consequatur vero labore aut itaque aliquam ipsam impedit nulla ea doloremque
                aperiam quaerat fugiat repellendus explicabo! Impedit rem at magnam ea. Porro, saepe, ullam voluptates
                delectus natus, eum aperiam dicta dignissimos consectetur soluta eaque doloremque illum nesciunt!
                Architecto deserunt consequatur dolor laborum laudantium eligendi a at. Temporibus totam ad quisquam id
                asperiores magni ducimus molestias mollitia? Molestias soluta eligendi, reprehenderit aspernatur
                perspiciatis corrupti deleniti nobis fugit quos! Obcaecati numquam autem, accusantium placeat sunt ad
                cupiditate ducimus! Fuga nisi voluptatibus sequi nesciunt tempora neque molestias obcaecati illo. Ipsam
                ex aspernatur expedita, debitis quasi numquam, cupiditate sed sit excepturi vitae facilis nulla qui nisi
                iure. Quidem, placeat vitae! Rem eaque esse ipsum, repellat dicta quibusdam iure amet pariatur ducimus
                dolor magnam alias eos itaque natus unde sint odio consequatur deserunt provident rerum assumenda
                voluptate, maiores sunt nulla? Labore.</p>
            <div class="card-body">
                <h5 class="card-title">Lorem Ipsum</h5>
                <p class="card-text">FrontEnd Developer</p>
            </div>
        </div>
    </div>

    <!-- Modal Box -->
    <div class="modal fade" id="jobModal" tabindex="-1" aria-labelledby="jobModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header d-flex justify-content-between align-items-center">
                    <h5 class="modal-title" id="jobModalLabel">Job Details</h5>
                    <div class="d-flex">
                        <button type="button" class="btn btn-primary me-2" id="editBtn" onclick="handleEditButtonClick(event)">Edit</button>
                        <button type="button" class="btn-close mt-1" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                </div>
                <div class="modal-body" id="jobModalBody">
                    <!-- Modal content will be populated dynamically -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="saveChangesBtn">Save Changes</button>
                    <button type="button" class="btn btn-primary giveInterviewBtn" id="giveInterviewBtn">Give Interview</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Button with write icon at bottom right -->
    <button id = "addJobber" type="button" class="btn btn-primary write-btn position-fixed bottom-0 end-0" data-bs-toggle="modal" data-bs-target="#addJobModal">
        <i class="bi bi-pencil-fill"></i>
    </button>

    <!-- Modal for adding a new job -->
    <div class="modal fade" id="addJobModal" tabindex="-1" aria-labelledby="addJobModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addJobModalLabel">Add New Job</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="addJobForm">
                        <div class="mb-3">
                            <label for="titleInput" class="form-label">Title</label>
                            <input type="text" class="form-control" id="titleInput" required>
                        </div>
                        <div class="mb-3">
                            <label for="roleInput" class="form-label">Role</label>
                            <input type="text" class="form-control" id="roleInput" required>
                        </div>
                        <div class="mb-3">
                            <label for="descriptionInput" class="form-label">Description</label>
                            <textarea class="form-control" id="descriptionInput" rows="3" required></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="saveJobBtn">Save Job</button>
                </div>
            </div>
        </div>
    </div>
    <script>

        var firstName;
        var email;
        var companyName;
        var toggleStateSignup;

        document.addEventListener('DOMContentLoaded', function() {
            const signupData = localStorage.getItem('signupData');
            if (signupData) {
                const data = JSON.parse(signupData);

                // Storing data in variables
                firstName = data.fName;
                email = data.email;
                companyName = data.companyName;
                toggleStateSignup = data.toggleStateSignup;
            }
        });

        if (toggleStateSignup == "HR"){
            document.getElementById('giveInterviewBtn').style.display = 'none';
        }
        else{
            document.getElementById('addJobber').style.display = 'none';
            document.getElementById('editBtn').style.display = 'none';
        }

        document.getElementById('saveChangesBtn').style.display = 'none';
        // Function to attach event listeners to job cards
        function attachEventListenersToJobCards() {
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                card.addEventListener('click', () => {
                    const description = card.querySelector('.card-description').innerHTML;
                    const title = card.querySelector('.card-title').innerHTML;
                    const role = card.querySelector('.card-text').innerHTML;
                    const modalBody = document.getElementById('jobModalBody');
                    modalBody.innerHTML = `
                        <h5>${title}</h5>
                        <p><strong>Role:</strong> ${role}</p>
                        <hr>
                        <p>${description}</p>
                    `;
                    clickedCard = card; // Update the clickedCard variable
                    console.log(clickedCard)
                });
            });
        }
    
        // Call the function to attach event listeners to existing job cards
        attachEventListenersToJobCards();
    
        // Function to handle edit button click
        function handleEditButtonClick(event) {
            if (!clickedCard) {
                return;
            }
    
            const card = clickedCard;
            const description = card.querySelector('.card-description').innerHTML;
            const title = card.querySelector('.card-title').innerHTML;
            const role = card.querySelector('.card-text').innerHTML;

            console.log("Editing:", card)
    
            const modalBody = document.getElementById('jobModalBody');
            modalBody.innerHTML = `
                <label for="editTitle">Title:</label>
                <input type="text" class="form-control mb-3" id="editTitle" value="${title}">
                <label for="editRole">Role:</label>
                <input type="text" class="form-control mb-3" id="editRole" value="${role}">
                <label for="editDescription">Description:</label>
                <textarea class="form-control" id="editDescription" rows="3" height=max-content>${description}</textarea>
            `;
            document.getElementById('saveChangesBtn').style.display = 'block';
    
            document.getElementById('saveChangesBtn').addEventListener('click', () => {
                const editedTitle = document.getElementById('editTitle').value;
                const editedRole = document.getElementById('editRole').value;
                const editedDescription = document.getElementById('editDescription').value;
    
                card.querySelector('.card-title').innerHTML = editedTitle;
                card.querySelector('.card-text').innerHTML = editedRole;
                card.querySelector('.card-description').innerHTML = editedDescription;
    
                const modal = bootstrap.Modal.getInstance(document.getElementById('jobModal'));
                console.log("Saving:", card)
                modal.hide();
            });
        }

        var cardID = 7;
        // Function to add a new job posting
        document.getElementById('saveJobBtn').addEventListener('click', function () {
            const title = document.getElementById('titleInput').value;
            const role = document.getElementById('roleInput').value;
            const description = document.getElementById('descriptionInput').value;
            
            const newCard = `
                <div class="card" style="width: 12.7rem;" data-card-id="${cardID}" data-bs-toggle="modal" data-bs-target="#jobModal">
                    <p class="card-description">${description}</p>
                    <div class="card-body">
                        <h5 class="card-title">${title}</h5>
                        <p class="card-text">${role}</p>
                    </div>
                </div>
            `;
            
            document.querySelector('.TeamDiv').insertAdjacentHTML('beforeend', newCard);
    
            // Attach event listener only to the newly created card
            const newCardElement = document.querySelector('.TeamDiv').lastElementChild;
            newCardElement.addEventListener('click', () => {
                const description = newCardElement.querySelector('.card-description').innerHTML;
                const title = newCardElement.querySelector('.card-title').innerHTML;
                const role = newCardElement.querySelector('.card-text').innerHTML;
                const modalBody = document.getElementById('jobModalBody');
                modalBody.innerHTML = `
                    <h5>${title}</h5>
                    <p><strong>Role:</strong> ${role}</p>
                    <hr>
                    <p>${description}</p>
                `;
                clickedCard = newCardElement; // Update the clickedCard variable
            });
    
            document.getElementById('titleInput').value = '';
            document.getElementById('roleInput').value = '';
            document.getElementById('descriptionInput').value = '';
        });
    
        // document.getElementById('editBtn').addEventListener('click', handleEditButtonClick);
    
        document.getElementById('giveInterviewBtn').addEventListener('click', function () {
            if (!clickedCard) {
                return;
            }
    
            const description = clickedCard.querySelector('.card-description').innerHTML;
            const title = clickedCard.querySelector('.card-title').innerHTML;
            const role = clickedCard.querySelector('.card-text').innerHTML;
    
            const encodedTitle = encodeURIComponent(title);
            const encodedRole = encodeURIComponent(role);
            const encodedJobDescription = encodeURIComponent(description);
            //
            localStorage.setItem('job_description', encodedJobDescription);
            localStorage.setItem('title', encodedTitle);
            localStorage.setItem('role', encodedRole);
    
            window.location.href = "/interview";
        });
    </script>    
    
</body>

</html>